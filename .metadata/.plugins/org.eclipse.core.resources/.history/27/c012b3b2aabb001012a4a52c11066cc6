package com.salesianostriana.dam.libreria.repository;

import java.util.List;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import com.salesianostriana.dam.libreria.model.Autor;

public interface AutorRepository extends JpaRepository<Autor, Long> {
    
    // BÃºsquedas personalizadas
    List<Autor> findByNombreContainingIgnoreCase(String nombre);
    List<Autor> findByNacionalidad(String nacionalidad);
    
    // Usando @Query para consultas complejas
    @Query("SELECT a FROM Autor a WHERE SIZE(a.libros) > 0")
    List<Autor> findAutoresConLibros();
}