<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head></head>

<body>
	<div th:replace="~{fragments :: head}"></div>
	<nav th:replace="~{fragments :: navbar}"></nav>

	<main>
		<div class="page-header">
			<div class="container">
				<h1><i class="fas fa-tags"></i> Categorías</h1>
				<p class="lead mb-0">Organiza los libros por categorías</p>
			</div>
		</div>

		<div class="container">
			<div class="mb-4 text-end">
				<a href="/categorias/nueva" class="btn btn-custom">
					<i class="fas fa-plus"></i> Nueva Categoría
				</a>
			</div>

			<div class="row">
				<div class="col-12" th:if="${categorias.isEmpty()}">
					<div class="alert alert-info text-center">
						<i class="fas fa-info-circle"></i> No hay categorías registradas
					</div>
				</div>

				<div class="col-md-6 col-lg-4 mb-4" th:each="categoria : ${categorias}">
					<div class="card h-100">
						<div class="card-body">
							<h5 class="card-title">
								<i class="fas fa-tag"></i>
								<span th:text="${categoria.nombre}">Nombre</span>
							</h5>
							<p class="mb-3">
								<span class="badge badge-custom">
									<i class="fas fa-book"></i>
									<span th:text="${categoria.libros.size()}">0</span> libros
								</span>
							</p>
							<div class="d-flex gap-2">
								<a th:href="@{/categorias/{id}(id=${categoria.id})}"
									class="btn btn-sm btn-outline-primary">
									<i class="fas fa-eye"></i> Ver
								</a>
								<a th:href="@{/categorias/editar/{id}(id=${categoria.id})}"
									class="btn btn-sm btn-outline-warning">
									<i class="fas fa-edit"></i> Editar
								</a>
								<a th:href="@{/categorias/eliminar/{id}(id=${categoria.id})}"
									class="btn btn-sm btn-outline-danger"
									onclick="return confirmarEliminacion('¿Eliminar esta categoría? Se eliminarán también sus libros.')">
									<i class="fas fa-trash"></i> Eliminar
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

	<footer th:replace="~{fragments :: footer}"></footer>
	<div th:replace="~{fragments :: scripts}"></div>

</body>

</html>